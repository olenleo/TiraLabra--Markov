use_bpm 80

notes =
  [43, 62, 43, 59, 43, 60, 43, 63, 43, 60, 43, 60],
  [48, 62, 66, 66, 62, 59, 60, 57, 50, 47, 43, 60],
  [59, 59, 52, 50, 64, 60, 57, 57, 45, 59, 54, 54],
  [62, 60, 57, 57, 50, 52, 57, 62, 57, 60, 53, 58],
  [55, 52, 43, 36, 59, 55, 55, 50, 48, 62, 66, 66],
  [57, 55, 52, 60, 50, 64, 62, 59, 55, 60, 59, 57],
  [50, 47, 55, 45, 55, 52, 55, 45, 60, 53, 50, 53],
  [53, 48, 47, 60, 60, 53, 52, 52, 36, 60, 52, 43],
  [43, 60, 43, 60, 43, 60, 43, 60, 43, 65, 43, 60],
  [48, 60, 60, 56, 64, 60, 57, 62, 59, 56, 52, 48],
  [60, 57, 55, 46, 53, 53, 55, 47, 54, 57, 54, 55],
  [36, 59, 55, 55, 50, 48, 62, 66, 66, 62, 59, 60],
  [55, 52, 41, 43, 47, 36, 53, 48, 48, 59, 59, 50],
  [59, 56, 52, 60, 60, 57, 57, 48, 52, 45, 42, 50],
  [52, 43, 52, 43, 55, 53, 52, 43, 50, 53, 47, 53],
  [53, 50, 65, 50, 65, 50, 59, 43, 65, 43, 65, 43],
  [41, 55, 55, 55, 50, 47, 43, 57, 57, 57, 52, 48],
  [48, 59, 59, 50, 53, 45, 55, 52, 52, 60, 57, 60],
  [60, 57, 55, 46, 53, 53, 55, 47, 54, 57, 54, 55],
  [64, 60, 57, 55, 54, 54, 57, 54, 50, 48, 47, 59],
  [56, 52, 45, 60, 59, 57, 57, 57, 60, 60, 60, 57],
  [57, 56, 52, 45, 60, 59, 57, 57, 57, 60, 60, 60],
  [52, 41, 48, 50, 50, 53, 56, 40, 60, 57, 60, 53],
  [52, 48, 60, 64, 60, 57, 55, 54, 54, 57, 54, 50],
  [45, 59, 59, 57, 52, 52, 58, 62, 58, 55, 53, 53]


a = 0
use_synth :piano
sleep 1

10.times do
  with_fx :reverb, amp: 1, room: 0.9, mix: 0.3 do
    
    q = 0.25
    6.times do
      play notes[a].tick, sustain: q, amp: [1.3,1.5,0.9,0.8,0.7,0.8, 0.6].tick
      sleep q
    end
    play notes[a].tick, sustain: 1, release: 1.5, amp: 1.2
    sleep q
    4.times do
      play notes[a].tick, sustain: q
      sleep q
    end
    play notes[a].tick, release: 0.5, sustain: 2, amp: 0.8
    sleep q
    
    if a < notes.length
      a += 1
    else
      a = 0
    end
  end
end
sleep 0.25
play chord(:C, :major)
play chord(:C, :major) + 12
